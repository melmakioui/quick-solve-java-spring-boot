<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>Simple Sidebar - Start Bootstrap Template</title>
    <link rel="stylesheet" type="text/css" th:href="@{css/style.css}">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
</head>
<style>
    li a:hover {
        background-color: rgb(255, 153, 0) !important;
        color: rgb(46, 46, 46) !important;
    }

    /*personalizado*/
    .sidebar-hide {
        margin-left: -280px;
    }
</style>


<body>

<th:block th:include="view/fragments/nav"></th:block>


<main class="d-flex flex-nowrap" style="transition: 0.5s;">

    <th:block th:include="view/fragments/sidebar"></th:block>

    <div id="page-content-wrapper" class="m-4  mx-4 mt-4 mb-0">

        <div class="container-fluid">
            <button id="sidebarToggle">Toggle Sidebar</button>

            <h1 class="mt-4">Mis Incidencias</h1>

            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Perspiciatis ratione ea et. Repudiandae facere
                praesentium labore. Autem veniam soluta fugit consequuntur mollitia totam non, quis deserunt incidunt magni,
                provident similique.</p>

            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ipsum doloremque quia eaque ut nam labore
                necessitatibus aliquam corporis ipsa nulla, est voluptatem quasi enim ipsam deleniti in saepe accusamus natus?
                Lorem, ipsum dolor sit amet consectetur adipisicing elit. Vel consequuntur ab laborum commodi cum recusandae
                aliquid et doloribus? Exercitationem, eveniet non facilis expedita similique dolorem quia ipsum quo hic sit!
            </p>

            <div class="accordion" id="accordion">
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingOne">
                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne"
                                aria-expanded="true" aria-controls="collapseOne">
                            En Espera
                        </button>
                    </h2>
                    <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne"
                         data-bs-parent="#accordion">

                        <div class="accordion-body d-flex flex-wrap">

                            <div class="d-flex" th:each="incidence : ${incidences}" >

                                <div  th:if="${incidence.status == 'En Espera'}" class="card mb-3 m-3" style="max-width: 18rem;">
                                    <div class="card-header" th:text="${incidence.status}"></div>
                                    <div class="card-body ">
                                        <h5 class="card-title"  th:text="${incidence.title}">Primary card title</h5>
                                        <p class="card-text text-truncate"  th:text="${incidence.description}">Some quick example text to build on the card title and make up
                                            the bulk of the card's content.</p>
                                    </div>
                                    <div class="d-flex justify-content-end">
                                        <a class="p-2 text-primary" th:href="@{/incidencia/modificar/} + ${incidence.id}"><i class="bi bi-pencil"></i></a>
                                        <a class="p-2 text-secondary" th:href="@{/incidencia/eliminar/} + ${incidence.id}"><i class="bi bi-trash"></i></a> <!--Abrir un modal al querer eliminar preguntando si esta seguro?-->
                                        <a class="p-2 text-dark" th:href="@{/incidencia/} + ${incidence.id}"><i class="bi bi-eye"></i></a> <!--Abrir un modal al querer eliminar preguntando si esta seguro?-->
                                    </div>
                                </div>
                            </div>

                            <a th:href="@{/incidencia/nueva}" class="d-flex align-items-center">
                                <div class="card border-primary mb-3 m-3 bg-primary">
                                    <div class="card-body text-primary d-flex align-items-center">
                                        <h1><i class="bi bi-file-earmark-plus p-5 text-light"></i></h1>
                                    </div>
                                </div>
                            </a>
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingTwo">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                            Solucionando
                        </button>
                    </h2>
                    <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo"
                         data-bs-parent="#accordion">
                        <div class="accordion-body d-flex flex-wrap">

                            <div class="d-flex" th:each="incidence : ${incidences}" >
                                <div  th:if="${incidence.status == 'Solucionando'}" class="card border-primary mb-3 m-3" style="max-width: 18rem;">
                                    <div class="card-header" th:text="${incidence.status}"></div>
                                    <div class="card-body text-primary">
                                        <h5 class="card-title"  th:text="${incidence.title}">Primary card title</h5>
                                        <p class="card-text text-truncate"  th:text="${incidence.description}">Some quick example text to build on the card title and make up
                                            the bulk of the card's content.</p>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingThree">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                            Solucionado
                        </button>
                    </h2>
                    <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree"
                         data-bs-parent="#accordion">
                        <div class="accordion-body">

                            <div class="d-flex" th:each="incidence : ${incidences}" >
                                <div  th:if="${incidence.status == 'Solucionado'}" class="card  mb-3 m-3" style="max-width: 18rem;">
                                    <div class="card-header" th:text="${incidence.status}"></div>
                                    <div class="card-body">
                                        <h5 class="card-title"  th:text="${incidence.title}">Primary card title</h5>
                                        <p class="card-text text-truncate"  th:text="${incidence.description}">Some quick example text to build on the card title and make up
                                            the bulk of the card's content.</p>
                                    </div>
                                </div>
                            </div>

                            <h1>No disponibles :D</h1>
                        </div>
                    </div>
                </div>

                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingFour">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseThree">
                            Cancelado
                        </button>
                    </h2>
                    <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour"
                         data-bs-parent="#accordion">
                        <div class="accordion-body">
                            <div class="d-flex" th:each="incidence : ${incidences}" >
                                <div  th:if="${incidence.status == 'Cancelado'}" class="card  mb-3 m-3" style="max-width: 18rem;">
                                    <div class="card-header" th:text="${incidence.status}"></div>
                                    <div class="card-body ">
                                        <h5 class="card-title"  th:text="${incidence.title}">Primary card title</h5>
                                        <p class="card-text text-truncate"  th:text="${incidence.description}">Some quick example text to build on the card title and make up
                                            the bulk of the card's content.</p>
                                    </div>
                                </div>
                            </div>

                            <h1>No disponibles :D</h1>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
    </div>

    <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
</main>


    <!-- Page content wrapper-->

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
        crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-3.6.3.slim.min.js"
        integrity="sha256-ZwqZIVdD3iXNyGHbSYdsmWP//UBokj2FHAxKuSBKDSo=" crossorigin="anonymous"></script>

<script>

    var sidbarToggleBtn = $('#sidebarToggle');
    var main = $('main');
    var smallWith = 768;

    sidbarToggleBtn.on('click', function () {
       main.toggleClass('sidebar-hide');
    });

    $(window).on('resize', function () {
        if ($(window).width() < smallWith ) main.addClass('sidebar-hide');
        else main.removeClass('sidebar-hide');
    });

</script>
</body>

</html>