<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" th:href="@{/css/style.css}">
  <link rel="icon" type="text/x-icon" th:href="@{/img/favicon.ico}">
  <title th:text="${session.language.getKeyValue().get('facturas.titulo')}"></title>
  <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0"/>
</head>
<body>
<th:block th:include="view/fragments/sub-incidence-nav"></th:block>
<div class="d-flex justify-content-start align-items-center flex-column mx-auto" th:if="${not #lists.isEmpty(userlogin.invoices)}" style="height: 100%;">
  <div class="container mx-auto">
    <h1 class="h1 my-lg-5 my-3 ms-4 ms-lg-2 align-self-start">Mis facturas</h1>
    <div class="d-flex justify-content-lg-start justify-content-center align-items-center flex-wrap">
      <div th:each="invoice : ${userlogin.invoices}" class="card m-lg-2 m-1" style="width: 18rem;">
        <div class="card-body">
          <h5 class="card-title" th:text="${'Factura #' + invoice.id}"></h5>
          <h6 class="card-subtitle mb-2 text-muted" th:text="${'Servicio comprado: ' + invoice.invoiceLines[0].name}"></h6>
          <p class="card-text" th:text="${#temporals.format(invoice.dateHour, 'dd/MM/yyyy HH:mm')}"></p>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="d-flex justify-content-center align-items-center flex-column flex-nowrap text-center m-2 normal-height" th:if="${#lists.isEmpty(userlogin.invoices)}">
  <h1 class="h1 mb-2" th:text="${session.language.getKeyValue().get('facturas.sinfacturas')}"></h1>
  <img th:src="@{/img/doc-icon.svg}" class="img-fluid mb-5" style="max-width: 200px;">
</div>

<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js" integrity="sha384-mQ93GR66B00ZXjt0YO5KlohRA5SY2XofN4zfuZxLkoj1gXtW8ANNCe9d5Y3eG5eD" crossorigin="anonymous"></script>
<script th:src="@{/js/jquery-3.6.3-min.js}"></script>
</body>
</html>