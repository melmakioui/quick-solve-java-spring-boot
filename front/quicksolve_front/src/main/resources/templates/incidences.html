<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>Simple Sidebar - Start Bootstrap Template</title>
    <!-- Favicon-->
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
</head>

<body>

<!--SCSS-->
<style>
    #wrapper {
        overflow-x: hidden;
    }

    #sidebar-wrapper {
        min-height: 100vh;
        margin-left: -15rem;
        transition: margin 0.25s ease-out;
    }

    #sidebar-wrapper .sidebar-heading {
        padding: 0.875rem 1.25rem;
        font-size: 1.2rem;
    }

    #sidebar-wrapper .list-group {
        width: 15rem;
    }

    #page-content-wrapper {
        min-width: 100vw;
    }

    body.sb-sidenav-toggled #wrapper #sidebar-wrapper {
        margin-left: 0;
    }

    @media (min-width: 768px) {
        #sidebar-wrapper {
            margin-left: 0;
        }

        #page-content-wrapper {
            min-width: 0;
            width: 100%;
        }

        body.sb-sidenav-toggled #wrapper #sidebar-wrapper {
            margin-left: -15rem;
        }
    }
</style>
</header>
<div class="d-flex" id="wrapper">
    <!-- Sidebar-->
    <div class="border-end bg-white" id="sidebar-wrapper">
        <div class="sidebar-heading border-bottom bg-light">Quick Solve</div>
        <div class="list-group list-group-flush">
            <a class="list-group-item list-group-item-action list-group-item-light p-3" href="#!">Ejemplo</a>
            <a class="list-group-item list-group-item-action list-group-item-light p-3" href="#!">Ejemplo</a>
            <a class="list-group-item list-group-item-action list-group-item-light p-3" href="#!">Ejemplo</a>
            <a class="list-group-item list-group-item-action list-group-item-light p-3" href="#!">Ejemplo</a>
            <a class="list-group-item list-group-item-action list-group-item-light p-3" href="#!">Ejemplo</a>
            <a class="list-group-item list-group-item-action list-group-item-light p-3" href="#!">Ejemplo</a>
        </div>
    </div>

    <!-- Page content wrapper-->
    <div id="page-content-wrapper">
        <!-- Top navigation-->

        <!-- Page content-->
        <div class="container-fluid ">
            <button class="btn btn-primary" id="sidebarToggle"> <i class="bi bi-list"></i></button>

            <h1 class="mt-4">Mis Incidencias</h1>

            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Perspiciatis ratione ea et. Repudiandae facere
                praesentium labore. Autem veniam soluta fugit consequuntur mollitia totam non, quis deserunt incidunt magni,
                provident similique.</p>

            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ipsum doloremque quia eaque ut nam labore
                necessitatibus aliquam corporis ipsa nulla, est voluptatem quasi enim ipsam deleniti in saepe accusamus natus?
                Lorem, ipsum dolor sit amet consectetur adipisicing elit. Vel consequuntur ab laborum commodi cum recusandae
                aliquid et doloribus? Exercitationem, eveniet non facilis expedita similique dolorem quia ipsum quo hic sit!
            </p>

            <div class="accordion" id="accordion">
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingOne">
                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne"
                                aria-expanded="true" aria-controls="collapseOne">
                            En Espera
                        </button>
                    </h2>
                    <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne"
                         data-bs-parent="#accordion">

                        <div class="accordion-body d-flex flex-wrap">

                            <div class="d-flex" th:each="incidence : ${incidences}" >

                                <div  th:if="${incidence.status == 'En Espera'}" class="card mb-3 m-3" style="max-width: 18rem;">
                                    <div class="card-header" th:text="${incidence.status}"></div>
                                    <div class="card-body ">
                                        <h5 class="card-title"  th:text="${incidence.title}">Primary card title</h5>
                                        <p class="card-text text-truncate"  th:text="${incidence.description}">Some quick example text to build on the card title and make up
                                            the bulk of the card's content.</p>
                                    </div>
                                    <div class="d-flex justify-content-end">
                                        <a class="p-2 text-primary" th:href="@{/incidencia/modificar/} + ${incidence.id}"><i class="bi bi-pencil"></i></a>
                                        <a class="p-2 text-secondary" th:href="@{/incidencia/eliminar/} + ${incidence.id}"><i class="bi bi-trash"></i></a> <!--Abrir un modal al querer eliminar preguntando si esta seguro?-->
                                        <a class="p-2 text-dark" th:href="@{/incidencia/} + ${incidence.id}"><i class="bi bi-eye"></i></a> <!--Abrir un modal al querer eliminar preguntando si esta seguro?-->
                                    </div>
                                </div>
                            </div>

                            <a th:href="@{/incidencia/nueva}" class="d-flex align-items-center">
                                <div class="card border-primary mb-3 m-3 bg-primary">
                                    <div class="card-body text-primary d-flex align-items-center">
                                        <h1><i class="bi bi-file-earmark-plus p-5 text-light"></i></h1>
                                    </div>
                                </div>
                            </a>
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingTwo">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                            Solucionando
                        </button>
                    </h2>
                    <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo"
                         data-bs-parent="#accordion">
                        <div class="accordion-body d-flex flex-wrap">

                            <div class="d-flex" th:each="incidence : ${incidences}" >
                                <div  th:if="${incidence.status == 'Solucionando'}" class="card border-primary mb-3 m-3" style="max-width: 18rem;">
                                    <div class="card-header" th:text="${incidence.status}"></div>
                                    <div class="card-body text-primary">
                                        <h5 class="card-title"  th:text="${incidence.title}">Primary card title</h5>
                                        <p class="card-text text-truncate"  th:text="${incidence.description}">Some quick example text to build on the card title and make up
                                            the bulk of the card's content.</p>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingThree">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                            Solucionado
                        </button>
                    </h2>
                    <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree"
                         data-bs-parent="#accordion">
                        <div class="accordion-body">

                            <div class="d-flex" th:each="incidence : ${incidences}" >
                                <div  th:if="${incidence.status == 'Solucionado'}" class="card  mb-3 m-3" style="max-width: 18rem;">
                                    <div class="card-header" th:text="${incidence.status}"></div>
                                    <div class="card-body">
                                        <h5 class="card-title"  th:text="${incidence.title}">Primary card title</h5>
                                        <p class="card-text text-truncate"  th:text="${incidence.description}">Some quick example text to build on the card title and make up
                                            the bulk of the card's content.</p>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>

                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingFour">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseThree">
                            Cancelado
                        </button>
                    </h2>
                    <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour"
                         data-bs-parent="#accordion">
                        <div class="accordion-body">
                            <div class="d-flex" th:each="incidence : ${incidences}" >
                                <div  th:if="${incidence.status == 'Cancelado'}" class="card  mb-3 m-3" style="max-width: 18rem;">
                                    <div class="card-header" th:text="${incidence.status}"></div>
                                    <div class="card-body ">
                                        <h5 class="card-title"  th:text="${incidence.title}">Primary card title</h5>
                                        <p class="card-text text-truncate"  th:text="${incidence.description}">Some quick example text to build on the card title and make up
                                            the bulk of the card's content.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>

<script>

    //Pasar a Jquery mas adelante
    window.addEventListener('DOMContentLoaded', event => {

        const sidebarToggle = document.body.querySelector('#sidebarToggle');
        if (sidebarToggle) {

            sidebarToggle.addEventListener('click', event => {
                event.preventDefault();
                document.body.classList.toggle('sb-sidenav-toggled');
            });
        }

    });
</script>
<!-- Bootstrap core JS-->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
<!-- JS para toogle-->
<script src="js/scripts.js"></script>
</body>

</html>